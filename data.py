#!/usr/bin/python
# -*- coding: utf-8 -*-
'''
@AUTHOR:Joselyn Zhao
@CONTACT:zhaojing17@foxmail.com
@HOME_PAGE:joselynzhao.top
@SOFTWERE:PyCharm
@FILE:data.py
@TIME:2019/9/26 15:40
@DES:
'''

gradually_5_15={
    "title":"gradually_5_15",
    "length": 9,
    "mAP" :       [28.2, 30.5, 36.7, 40.0, 47.0, 51.5, 52.7, 54.0,54.1],
    "top1" :      [33.3, 34.8, 43.2, 46.3, 54.4, 59.8, 60.3, 62.8,63.4],
    "top5" :      [50.0, 52.4, 58.4, 62.5, 70.8, 75.8, 76.5, 78.2,78.2],
    "top10" :     [56.0, 59.8, 63.7, 68.9, 76.1, 80.1, 82.5, 82.2,82.8],
    "top20" :     [63.4, 65.7, 69.7, 74.8, 80.8, 85.6, 87.0, 85.9,86.8],
    "label_pre" : [40.8, 43.5, 48.3, 51.3, 56.6, 59.6, 61.6, 62.3,62.7],
    "select_pre" : [94.59, 93.84, 89.95, 86.10, 81.2, 74.48, 65.15, 62.32,62.65]}

gradually_5_13={
    "title":"gradually_5_13",
    "length": 12,
    "mAP" :       [30.2,31.3,35.3,40.8,44.0,49.0,50.3,53.5,54.1,56.0,54.8,55.6],
    "top1" :      [35.9,35.9,40.6,47.3,50.3,57.0,59.4,62.5,62.8,65.4,63.4,64.5],
    "top5" :      [52.1,54.7,56.7,63.8,67.7,72.2,74.1,77.8,77.5,79.1,78.2,78.5],
    "top10" :     [59.4,60.4,63.0,69.7,72.8,76.5,78.5,81.8,81.5,83.6,83.5,82.3],
    "top20" :     [65.0,66.0,70.4,74.6,77.2,81.6,83.0,84.9,85.8,86.6,86.9,86.5],
    "label_pre" : [42.3,42.7,46.9,53.6,56.3,58.2,61.6,63.3,64.1,64.5,64.7,65.3],
    "select_pre" : [95.59,93.99,95.18,92.04,90.08,87.74,83.46,77.58,71.36,64.56,64.73,65.26]}

gradually_5_10={
    "title":"gradually_5_10",
    "length": 21,
    "p":10,
    "mAP" :        [29.4,30.1,34.0,39.4,40.6,42.2,45.8,47.2,46.9,49.2,51.3,52.1,53.3,56.2,56.4,58.6,56.7,57.1,57.2,56.2,57.6],
    "top1" :       [34.5,34.8,39.7,45.0,47.2,49.4,53.1,54.4,54.7,57.7,59.0,62.0,62.1,66.4,66.4,67.1,65.8,66.8,65.8,65.4,67.2],
    "top5" :       [49.0,52.0,56.7,62.0,63.4,64.5,69.7,71.2,72.4,71.9,76.9,75.8,78.2,79.9,79.2,81.2,78.8,81.1,80.3,80.2,80.5],
    "top10" :      [56.1,60.7,63.1,68.2,69.4,69.9,75.5,75.9,76.8,78.1,80.8,80.6,82.8,83.5,83.5,84.5,82.8,84.6,84.3,84.6,83.8],
    "top20" :      [63.0,66.5,68.8,73.4,76.1,75.5,81.3,81.1,80.5,82.9,83.5,84.0,85.3,87.3,87.7,87.6,87.2,87.9,88.7,87.5,88.2],
    "label_pre" :  [41.8,42.8,45.3,50.1,51.8,54.8,56.0,57.8,57.8,60.0,62.7,62.6,64.7,65.3,66.7,68.1,67.5,67.8,68.2,68.3,68.5],
    "select_pre" : [91.89,91.95,92.86,94.97,96.25,95.09,94.64,93.47,91.34,90.23,88.43,87.50,86.61,84.69,82.05,80.00,77.15,74.18,71.32,68.27,68.54]}

gradually_5_k15={
    "title":"gradually_5_k15",
    "length": 22,
    "mAP" :       [29.0,28.4,30.8,32.8,34.7,36.5,39.8,42.9,47.3,48.4,49.3,51.2,53.5,53.9,55.8,58.1,56.1,58.2,57.3,56.5,57.2,57.5],
    "top1" :      [35.0,33.2,36.0,38.6,40.7,41.2,46.4,49.6,54.0,57.8,57.8,60.7,63.5,63.8,64.7,67.4,65.2,67.0,66.5,65.2,66.4,67.4],
    "top5" :      [51.4,52.6,51.1,54.3,58.5,58.3,63.7,65.2,70.5,71.1,74.4,74.9,76.6,78.3,79.6,81.2,80.1,81.3,81.1,80.5,80.5,82.3],
    "top10" :     [57.3,58.1,56.7,61.0,63.2,64.2,69.1,70.4,76.2,76.6,79.3,79.2,80.6,81.8,84.2,85.5,85.6,85.8,84.8,83.5,85.6,85.6],
    "top20" :     [62.7,64.7,62.3,67.0,68.4,71.7,74.4,76.1,81.2,82.2,84.0,83.9,84.9,85.9,87.2,88.5,88.6,89.3,88.3,87.0,89.2,88.3],
    "label_pre" : [39.4,41.2,41.9,43.4,47.3,49.7,50.9,54.8,58.6,59.8,60.8,61.9,64.5,66.1,66.8,66.8,67.5,68.1,67.8,68.3,68.3,68.3],
    "select_pre" : [100.0,93.94,95.95,96.15,95.5,95.04,92.53,91.81,90.91,89.77,88.09,85.70,83.87,80.96,77.96,75.17,72.71,70.53,69.15,68.57,68.39,68.34]}


import  numpy as np
import  math
def get_len(train_name):
    return len(train_name["mAP"])

def percent_gradually_5_k15():
    Nu = 1494.0
    k = 15
    x = np.linspace(1,gradually_5_k15["length"],gradually_5_k15["length"])
    def fun(x):
        num =  min(math.ceil(-(Nu/2) * np.cos((k/100) * (x-1))+(Nu/2)),Nu)
        return num*100/Nu
    xx = list(map(fun,x))
    return xx

def percent_gradually_5_10():
    Nu = 1494.0
    q = 1.0
    ef = 5
    x = np.linspace(1,gradually_5_10["length"],gradually_5_10["length"])
    def fun(x):
        num =  min(math.ceil(Nu * math.pow(x-1,q)*(ef/100)),Nu)
        return num*100/Nu
    xx = list(map(fun,x))
    return xx

def percent_gradually_5_13():
    Nu = 1494.0
    q = 1.3
    ef = 5
    x = np.linspace(1,gradually_5_13["length"],gradually_5_13["length"])
    def fun(x):
        num =  min(math.ceil(Nu * math.pow(x-1,q)*(ef/100)),Nu)
        return num*100/Nu
    xx = list(map(fun,x))
    return xx

def percent_gradually_5_15():
    Nu = 1494.0
    q = 1.5
    ef = 5
    x = np.linspace(1,gradually_5_15["length"],gradually_5_15["length"])
    def fun(x):
        num =  min(math.ceil(Nu * math.pow(x-1,q)*(ef/100)),Nu)
        return num*100/Nu
    xx = list(map(fun,x))
    return xx






if __name__=="__main__":
    # print(get_len(gradually_5_15))
    percent_gradually_5_k15()
    percent_gradually_5_15()